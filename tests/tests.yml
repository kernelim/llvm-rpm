- hosts: localhost
  roles:
  - role: standard-test-basic
    tags:
      - classic
    required_packages:
      - lld
      - clang
      - gcc
      - lld-test
      # the requirements below are for the integration suite
      - cmake
      - llvm-devel
      - clang
      - clang-analyzer
      - clang-tools-extra
      - compiler-rt
      - ninja-build
      - libcxx-devel
      - libomp-devel
      - python-lit
      - lld
      - lldb
      - git
      - make
      - libstdc++-static
      - clang-devel
    tests:
      - basic:
          dir: ./
          run: echo "int main(){ return 0; }" | clang -x c -fuse-ld=lld -
      - gcc-compat-basic:
          dir: ./
          run: echo "int main(){ return 0; }" | gcc -x c -fuse-ld=lld -
      - lit-tests
      - integration-test-suite
